{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', onInput);\nform.addEventListener('submit', onSubmit);\n\n//! === SIMPLE ===\n\nconst formData = JSON.parse(localStorage.getItem('feedback-form-state')) ?? {\n  email: '',\n  message: '',\n};\n\nform.elements.message.value = formData.message;\nform.elements.email.value = formData.email;\n\nfunction onInput(e) {\n  let key = e.target.name;\n  formData[key] = e.target.value.trim();\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  if ( form.elements.message.value === '' || form.elements.email.value === '' ) {\n    alert('Fill please all fields');\n  } else {\n    console.log(JSON.stringify(formData));\n\n    localStorage.removeItem('feedback-form-state');\n    form.reset();\n    formData.message = '';\n    formData.email = '';\n  }\n}\n\n//! === SCALABLE === (the number and names of text fields is unknown)\n\n// // set text in fields from LS on reload\n// let formData = {};\n\n// function getTextFromLS() {\n//   formData =\n//     JSON.parse(localStorage.getItem('feedback-form-state')) ?? formData;\n//   for (const elem of form.elements) {\n//     if (elem.nodeName === 'INPUT' || elem.nodeName === 'TEXTAREA') {\n//       elem.value = formData[elem.name] || '';\n//     }\n//   }\n// }\n// getTextFromLS();\n// // ---\n\n// function onInput(e) {\n//   let key = e.target.name;\n//   formData[key] = e.target.value.trim();\n//   localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n// }\n\n// function onSubmit(e) {\n//   e.preventDefault();\n\n//   let isEmpty = false;\n\n//   for (const key in formData) {\n//     if (formData[key] === '') {\n//       isEmpty = true;\n//       break;\n//     }\n//   }\n\n//   if (isEmpty) {\n//     alert('Fill please all fields');\n//   } else {\n//     console.log(JSON.stringify(formData));\n//     localStorage.removeItem('feedback-form-state');\n//     form.reset();\n//     for (const key in formData) {\n//       formData[key] = '';\n//     }\n//   }\n// }\n"],"names":["form","onInput","onSubmit","formData","e","key"],"mappings":"wFAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,CAAO,EACtCD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC;AAEA,MAAMC,EAAW,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,GAAK,CAC1E,MAAO,GACP,QAAS,EACX,EAEAH,EAAK,SAAS,QAAQ,MAAQG,EAAS,QACvCH,EAAK,SAAS,MAAM,MAAQG,EAAS,MAErC,SAASF,EAAQG,EAAG,CAClB,IAAIC,EAAMD,EAAE,OAAO,KACnBD,EAASE,CAAG,EAAID,EAAE,OAAO,MAAM,OAC/B,aAAa,QAAQ,sBAAuB,KAAK,UAAUD,CAAQ,CAAC,CACtE,CAEA,SAASD,EAASE,EAAG,CACnBA,EAAE,eAAc,EAEXJ,EAAK,SAAS,QAAQ,QAAU,IAAMA,EAAK,SAAS,MAAM,QAAU,GACvE,MAAM,wBAAwB,GAE9B,QAAQ,IAAI,KAAK,UAAUG,CAAQ,CAAC,EAEpC,aAAa,WAAW,qBAAqB,EAC7CH,EAAK,MAAK,EACVG,EAAS,QAAU,GACnBA,EAAS,MAAQ,GAErB,CAEA;"}